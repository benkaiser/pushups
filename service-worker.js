(()=>{var n=self,o=n.clients,r="runtime",l=["./","./index.js","./static/main.css","https://notification.kaiser.lol/lib.js"];n.addEventListener("install",t=>{t.waitUntil(caches.open(r).then(i=>i.addAll(l)).then(()=>n.skipWaiting()))});n.addEventListener("fetch",t=>{(t.request.url.startsWith(self.location.origin)||t.request.url.includes("bootstrap")||t.request.url.includes("https://notification.kaiser.lol/lib.js"))&&t.respondWith(caches.match(t.request).then(i=>{let s=()=>fetch(t.request).then(e=>caches.open(r).then(c=>c.put(t.request,e.clone()).then(()=>e)));return i?(s(),i):s()}))});n.addEventListener("push",function(t){var i={icon:"https://benkaiser.github.io/pushups/static/icons/icon-512x512.png",body:"Let's go!"};t.waitUntil(n.registration.showNotification("Pushup Time",i))});n.addEventListener("notificationclick",function(t){t.notification.close();let i=location.origin+location.pathname.replace("service-worker.js","");t.waitUntil(o.matchAll().then(s=>{for(let e of s)if(e.url.includes(i))return e.focus();return o.openWindow(i)}))});})();
